<p-dialog [header]="title" [modal]="true" [(visible)]="visible" [style]="{ width: '50rem' }" [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" [maximizable]="true" (onHide)="closeDialog()">
    <div>
        <form [formGroup]="facturacionForm" (ngSubmit)="onSubmit()" class="w-auto mt-5">
            <div class="grid grid-cols-2  gap-8  mb-10">
                <div class="flex flex-col gap-2">
                    <label for="fullNameOrCompany">Nombre o razon social</label>
                    <input pInputText formControlName="fullNameOrCompany" id="fullNameOrCompany"  />
                </div>
    
    
                <div class="flex flex-col gap-2">
                    <label for="giro">Giro</label>
                    <input pInputText id="giro" formControlName="giro" />
                </div>
    
                <div class="flex flex-col gap-2">
                    <label for="rut">Rut</label>
                    <input pInputText id="rut" formControlName="rut" />
                </div>

                <div class="flex flex-col gap-2">
                    <label for="date">fecha</label>
                    <input pInputText id="date" formControlName="date" />
                </div>

                <div class="flex flex-col gap-2">
                    <label for="nFactura">Numero de factura</label>
                    <input pInputText id="nFactura" formControlName="nFactura" />
                </div>

                <div class="flex flex-col gap-2">
                    <label for="value">Valor</label>
                    <input pInputText id="value" formControlName="value" />
                </div>
    
                <div class="flex flex-col gap-2">
                    <label for="address">Direccion</label>
                    <input pInputText id="address" formControlName="address" />
                </div>
    
                <div class="flex flex-col gap-2">
                    <label for="phone">Numero telefono</label>
                    <input pInputText id="phone" formControlName="phone" />
                </div>
    
                <div class="flex flex-col gap-2">
                    <label for="email">Email</label>
                    <input pInputText id="email" formControlName="email" />
                </div>
            </div>
        </form>

        <p-divider />

        <h3 class="mb-5">Documentos</h3>
        <div>
            <ul class="list-disc mb-10 ml-10">
                <li *ngFor="let item of facturasDocumentos; let i = index" class="" >
                    <div class="flex gap-5 items-center ">
                        <p>{{i + 1}}. {{item.name}}</p>
                        <p>{{item.size}} mb</p>
                        <button pButton type="button" icon="pi pi-trash" class="p-button-danger" (click)="deleteFactura(i)"></button>
                    </div>
                </li>
            </ul>


            <div class="card flex ">
                <p-fileupload mode="basic" name="demo[]" chooseIcon="pi pi-upload" url="https://www.primefaces.org/cdn/api/upload.php"   maxFileSize="1000000" (onUpload)="onUploadFacturas($event)" [auto]="true" chooseLabel="Cargar documento" />
            </div>
        </div>

        <p-divider />
        <h3 class="mb-5">Comprobantes de pago</h3>
        <div>
            <ul class="list-disc mb-10 ml-10">
                <li *ngFor="let item of comprobantesDocumentos; let i = index" class="" >
                    <div class="flex gap-5 items-center ">
                        <p>{{i + 1}}. {{item.name}}</p>
                        <p>{{item.size}} mb</p>
                        <button pButton type="button" icon="pi pi-trash" class="p-button-danger" (click)="deleteComprobante(i)"></button>
                    </div>
                </li>
            </ul>


            <div class="card flex ">
                <p-fileupload mode="basic" name="demo[]" chooseIcon="pi pi-upload" url="https://www.primefaces.org/cdn/api/upload.php"   maxFileSize="1000000" (onUpload)="onUploadComprobante($event)" [auto]="true" chooseLabel="Cargar documento" />
            </div>
        </div>

        <div class="flex justify-end mt-5">
            <p-button severity="info" label="Ingresar Factura" />
        </div>
    </div>
</p-dialog>